---
title: Merged Props
description: 'Merge data for infinite scroll and real-time updates'
---

# Merged Props

Merged props allow you to append or prepend data to existing props instead of replacing them.

## When to Use

- Infinite scroll
- Load more buttons
- Real-time notifications
- Chat messages

## Types of Merge

### mergedProp

Replaces or merges array data:

```typescript
import { createInertia, prop, mergedProp } from 'inertia-server';

const { definePage } = createInertia({ version: '1.0.0', render: renderToHtml });

const postsPage = definePage({
  component: 'Posts',
  props: {
    posts: mergedProp<Post[]>(),
    hasMore: prop<boolean>(),
  },
});
```

### Scroll (Append)

Append new items to the end:

```typescript
posts: mergedProp<Post[]>().scroll(),
```

### Prepend

Add new items to the beginning:

```typescript
notifications: mergedProp<Notification[]>().prepend(),
```

### deepMergedProp

Deep merge for nested structures:

```typescript
import { createInertia, deepMergedProp } from 'inertia-server';

const { definePage } = createInertia({ version: '1.0.0', render: renderToHtml });

interface Conversation {
  id: number;
  messages: Message[];
}

const chatPage = definePage({
  component: 'Chat',
  props: {
    conversations: deepMergedProp<Conversation[]>(),
  },
});
```

## Infinite Scroll Example

Server:

```typescript
app.get('/posts', ({ inertia, query }) => {
  const page = parseInt(query.page) || 1;
  const posts = await getPosts(page);
  
  return inertia.render(postsPage({
    posts,
    hasMore: posts.length === 10,
  }));
});
```

Client:

```tsx
import { router } from '@inertiajs/react';

export default function Posts({ posts, hasMore }) {
  const [page, setPage] = useState(1);

  const loadMore = () => {
    const nextPage = page + 1;
    router.reload({
      data: { page: nextPage },
      only: ['posts', 'hasMore'],
      onSuccess: () => setPage(nextPage),
    });
  };

  return (
    <div>
      {posts.map(post => (
        <PostCard key={post.id} post={post} />
      ))}
      
      {hasMore && (
        <button onClick={loadMore}>Load More</button>
      )}
    </div>
  );
}
```

## Real-time Notifications Example

Server:

```typescript
app.post('/notifications/mark-read', ({ inertia }) => {
  return inertia.redirect('/notifications');
});
```

Client:

```tsx
export default function Notifications({ notifications }) {
  // New notifications are prepended automatically
  return (
    <div>
      {notifications.map(n => (
        <NotificationItem key={n.id} notification={n} />
      ))}
    </div>
  );
}
```
