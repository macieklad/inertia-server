---
title: Responses
description: 'Handling responses, errors, and flash messages'
---

# Responses

Inertia Server provides several methods for handling responses.

## Rendering Pages

```typescript
app.get('/users', ({ inertia }) => {
  return inertia.render(usersPage({
    users: await getUsers(),
  }));
});
```

## Validation Errors

Set validation errors that will be available on the client:

```typescript
app.post('/users', ({ inertia, body }) => {
  const errors = validateUser(body);
  
  if (Object.keys(errors).length > 0) {
    inertia.errors(errors);
    return inertia.redirect('/users/create');
  }
  
  await createUser(body);
  return inertia.redirect('/users');
});
```

### Error Bags

Use error bags to scope errors to specific forms:

```typescript
// Login form errors
inertia.errors({ email: 'Invalid email' }, 'login');

// Registration form errors
inertia.errors({ email: 'Already taken' }, 'register');
```

Access on the client:

```tsx
const { errors } = usePage<{ errors: Record<string, string> }>();
// or
const form = useForm({ email: '', password: '' });
// form.errors.email
```

## Flash Messages

Set flash messages for the next request:

```typescript
inertia.flash('success', 'User created successfully!');
return inertia.redirect('/users');
```

Access on the client:

```tsx
const { flash } = usePage<{ flash: { success?: string } }>();
```

## Redirects

```typescript
// Basic redirect
return inertia.redirect('/users');

// External redirect (full page reload)
return inertia.location('https://external-site.com');
```

## History Control

### Encrypt History

Encrypt the page state in browser history:

```typescript
app.get('/secure', ({ inertia }) => {
  inertia.encryptHistory();
  return inertia.render(securePage({ data: sensitiveData }));
});
```

### Clear History

Clear browser history on logout:

```typescript
app.post('/logout', ({ inertia }) => {
  inertia.clearHistory();
  return inertia.redirect('/');
});
```
